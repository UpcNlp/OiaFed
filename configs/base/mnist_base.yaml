# 基础配置 - MNIST通用设置
# configs/base/mnist_base.yaml
# 可被其他配置文件继承，避免重复配置

# 实验基本信息
experiment_name: "MNIST_Base_Config"
description: "MNIST联邦学习基础配置（可被继承）"

# 通信配置
communication:
  mode: memory
  server:
    host: "127.0.0.1"
    port: 8000

# 训练配置
training:
  max_rounds: 10
  min_clients: 2
  clients_per_round: 3
  client_fraction: 1.0

# 服务器配置
server:
  trainer:
    name: "Generic"
    params:
      local_epochs: 1
      learning_rate: 0.01
      batch_size: 32
  global_model:
    name: "MNIST_CNN"
    params:
      num_classes: 10

# 客户端配置
clients:
  num_clients: 3
  learner:
    name: "Generic"
    params:
      model:
        name: "MNIST_CNN"
        params:
          num_classes: 10
      optimizer:
        type: "SGD"
        lr: 0.01
        momentum: 0.9
      loss: "CrossEntropyLoss"
      learning_rate: 0.01
      batch_size: 32
      local_epochs: 1
  dataset:
    name: "MNIST"
    params:
      root: "./data"
      train: true
      download: true
    partition:
      strategy: "iid"
      num_clients: 3
      seed: 42
      params: {}
