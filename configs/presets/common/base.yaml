# =============================================================================
# 通用基础配置 - Base Preset
# =============================================================================
#
# 此配置包含所有节点共享的基础设置：
# - 传输模式（Memory/gRPC）
# - 日志配置
# - Tracker配置
# - 超时和心跳设置
#
# 使用方式：
#   extend: presets/common/base.yaml
#
# =============================================================================

# 传输配置 - Memory 模式（本地串行，适合单机实验）
transport:
  mode: memory

# 日志配置
logging:
  level: INFO              # 文件日志级别：DEBUG / INFO / WARNING / ERROR
  log_dir: ./logs          # 日志根目录
  exp_name: null           # 实验名称（null表示使用default）
  console: true            # 是否输出到控制台
  console_level: INFO      # 控制台日志级别
  diagnose: false          # 是否开启诊断模式（详细堆栈）
  rotation: "10 MB"        # 日志轮转大小
  retention: "30 days"     # 日志保留时间
  compression: "zip"       # 压缩格式

# Tracker 配置（指标跟踪）
tracker:
  enabled: true
  tracking_dir: tracking

  # 使用 backends 数组统一配置（可以配置多个后端）
  backends:
    - type: file
      args:
        level: DEBUG

# Callbacks 配置（用于训练日志）
callbacks:
  - type: logging
    args:
      log_epoch: true
      log_round: true
      log_fit: false

# 超时配置
default_timeout: 60.0

# 心跳配置（Memory 模式不需要）
heartbeat:
  enabled: false
