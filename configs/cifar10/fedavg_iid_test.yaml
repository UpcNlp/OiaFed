# CIFAR-10 FedAvg 快速测试配置
# configs/cifar10/fedavg_iid_test.yaml

# 实验元信息
experiment_name: "CIFAR10_FedAvg_IID_Test"
description: "CIFAR-10数据集上的FedAvg算法快速测试"

# 节点角色和ID
role: local
node_id: "local_cifar10_test"

# 通信配置
communication:
  mode: memory

# 训练配置
training:
  # 训练参数（快速测试）
  max_rounds: 3
  min_clients: 2

  # 服务器端配置
  trainer:
    name: "Generic"
    params:
      local_epochs: 1
      learning_rate: 0.01
      batch_size: 128

  global_model:
    name: "CIFAR10_Simple"
    params:
      num_classes: 10

  # 客户端配置
  learner:
    name: "Generic"
    params:
      model:
        name: "CIFAR10_Simple"
        params:
          num_classes: 10
      optimizer:
        type: "SGD"
        lr: 0.01
        momentum: 0.9
        weight_decay: 0.0005
      loss: "CrossEntropyLoss"
      learning_rate: 0.01
      batch_size: 128  # 较大批次以加快训练
      local_epochs: 1

  dataset:
    name: "CIFAR10"
    params:
      root: "./data"
      train: true
      download: true
    partition:
      strategy: "iid"
      num_clients: 2  # 减少客户端数量以加快速度
      seed: 42

# 客户端列表
clients:
  num_clients: 2
