# FedAvg MNIST实验配置
# configs/experiments/fedavg_mnist.yaml

# 实验元信息
experiment:
  name: "FedAvg_MNIST"
  description: "FedAvg算法在MNIST数据集上的基准实验"
  author: "MOE-FedCL"
  reference: "McMahan et al., Communication-Efficient Learning of Deep Networks from Decentralized Data, AISTATS 2017"

# 数据集配置
dataset:
  name: "MNIST"
  params:
    root: "./data"
    train: true
    download: true
  partition:
    strategy: "non_iid_label"
    num_clients: 10
    labels_per_client: 2

# 模型配置
model:
  name: "MNIST_CNN"
  params:
    num_classes: 10

# 训练器配置
trainer:
  name: "FedAvgMNIST"
  params:
    max_rounds: 100
    min_clients: 5
    client_selection_ratio: 0.5

# 聚合器配置
aggregator:
  name: "FedAvg"
  params:
    weighted: true

# 学习器配置
learner:
  name: "MNISTLearner"
  params:
    learning_rate: 0.01
    batch_size: 32
    local_epochs: 5
    optimizer: "sgd"
    momentum: 0.9

# 通信配置
communication:
  mode: "process"  # memory, process, network
  transport:
    type: "process"
    timeout: 30.0
    retry_attempts: 3
    specific_config:
      host: "0.0.0.0"
      port: 8000

# 评估配置
evaluation:
  metrics: ["accuracy", "loss"]
  evaluate_every: 1  # 每轮都评估
  save_best_model: true

# 日志配置
logging:
  level: "INFO"
  save_path: "./logs/fedavg_mnist"
  tensorboard: true
  wandb: false

# 随机种子
seed: 42
